## 背景
需要一个最小可用的智能体能力，使用 ChatGPT 并复用现有知识库检索。

## 目标 / 非目标
- 目标：提供自动检索、整理、多步分析与动作执行的智能体能力。
- 非目标：流式返回、多用户权限改造、检索排序优化。

## 决策
- 决策：引入 LangChain 作为智能体编排框架。
- 决策：新增可插拔模型适配层，默认实现 ChatGPT，后续可扩展其他提供方。
- 决策：智能体流程采用检索 -> 整理 -> 分析 -> 动作执行 -> 汇总。
- 决策：提供简单的 POST /agent 接口供客户端调用。

## 风险 / 权衡
- 风险：外部依赖带来延迟与成本；缓解：超时与错误提示可配置。
- 风险：模型幻觉；缓解：提示词要求基于材料回答并返回来源。
- 风险：动作执行误用；缓解：限制动作范围并记录执行轨迹。

## 迁移计划
- 新增配置与适配层，不涉及数据迁移。

## 未决问题
- 是否在第一版同时支持 OpenAI 与 Azure OpenAI 端点？
